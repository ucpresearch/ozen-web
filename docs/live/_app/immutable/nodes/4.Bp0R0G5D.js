import{s as Ot,d as o,b as s,i as V,E as ue,B as l,F as Vt,c as r,g as _,e as C,h as i,j as w,k as De,w as Xt,G as St,n as We,H as U,r as _t,a as ke,I as vt,f as _e,x as Nt,t as we,D as jt,J as qt,K as Lt,L as wt,M as Gt,N as ze,O as Ue}from"../chunks/DzR6qLkJ.js";import{S as Wt,i as Yt,t as Qe,a as $e,c as Kt,d as Ct,m as Et,e as xt,b as Tt,g as Zt}from"../chunks/CbSE4UIZ.js";import{p as Jt}from"../chunks/ngDCE_Ei.js";import{i as Qt,c as Pt,a as pt,s as bt,f as mt,d as kt,t as Ye,b as qe,e as Ge,r as yt,W as $t,S as es,T as ts,p as ss,g as ls,h as ns,j as as,w as os,k as rs,l as is,m as us}from"../chunks/Da3M2YNa.js";const cs=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,Dt=10,hs=300;function fs(a,e){const t=new Map;let n=null,h=null,u=!1;function p(v){if(v.pointerType==="touch"&&(a.setPointerCapture(v.pointerId),t.set(v.pointerId,{id:v.pointerId,x:v.clientX,y:v.clientY,startX:v.clientX,startY:v.clientY,startTime:Date.now()}),t.size===2)){const A=Array.from(t.values());n=Ft(A[0],A[1]),h=(A[0].x+A[1].x)/2,u&&(u=!1,e.onSelectionEnd())}}function T(v){if(v.pointerType!=="touch")return;const A=t.get(v.pointerId);if(A){if(A.x=v.clientX,A.y=v.clientY,t.size===2){const E=Array.from(t.values());if(n!==null){const m=Ft(E[0],E[1]),y=m/n;if(Math.abs(y-1)>.02){const P=(E[0].x+E[1].x)/2,k=e.getTimeFromX(P);e.onZoom(y,k),n=m}}if(h!==null){const m=(E[0].x+E[1].x)/2,y=m-h;if(Math.abs(y)>2){const P=a.getBoundingClientRect(),k=e.getVisibleDuration(),B=y/P.width*k;e.onPan(-B),h=m}}}else if(t.size===1){const E=A.x-A.startX,m=A.y-A.startY,y=Math.sqrt(E*E+m*m);if(!u&&y>Dt){u=!0;const P=e.getTimeFromX(A.startX);e.onSelectionStart(P)}if(u){const P=e.getTimeFromX(A.x);e.onSelectionMove(P)}}}}function d(v){if(v.pointerType!=="touch")return;const A=t.get(v.pointerId);if(A&&t.size===1){const E=A.x-A.startX,m=A.y-A.startY,y=Math.sqrt(E*E+m*m),P=Date.now()-A.startTime;if(y<Dt&&P<hs){const k=e.getTimeFromX(A.x);e.onTap(k)}else u&&e.onSelectionEnd();u=!1}a.releasePointerCapture(v.pointerId),t.delete(v.pointerId),(t.size===0||t.size===1)&&(n=null,h=null)}function b(v){u&&(u=!1,e.onSelectionEnd()),d(v)}function g(v){v.preventDefault()}return a.addEventListener("pointerdown",p),a.addEventListener("pointermove",T),a.addEventListener("pointerup",d),a.addEventListener("pointercancel",b),a.addEventListener("touchstart",g,{passive:!1}),()=>{a.removeEventListener("pointerdown",p),a.removeEventListener("pointermove",T),a.removeEventListener("pointerup",d),a.removeEventListener("pointercancel",b),a.removeEventListener("touchstart",g)}}function Ft(a,e){const t=a.x-e.x,n=a.y-e.y;return Math.hypot(t,n)}const{document:Je,window:ds}=cs;function vs(a){let e,t,n,h,u,p,T='<svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg>',d,b,g,v,A,E="T:",m,y,P=At(a[1])+"",k,B,O,X,F,L,S,I,R,Q,j,K,se,Z,ce,W,M,J,Y,q,fe,ee,de,Me,$=a[3]&&Mt(a),oe=a[20]&&It(a),ne=a[21]&&Bt(a),te=a[20]&&Rt(a);R=new $t({}),K=new es({props:{showPitch:a[5],showFormants:a[6],showIntensity:a[7],showHNR:a[8],showCoG:a[9],showSpectralTilt:a[10],showA1P0:a[11],showDataPoints:!1,maxFreq:a[13]}}),ce=new ts({});function Ae(f,N){return f[22]?ys:ms}let Oe=Ae(a),be=Oe(a),pe=a[19]&&zt(),ve=a[12]&&Ut(a);return{c(){e=i("header"),t=i("span"),n=we(a[23]),h=w(),$&&$.c(),u=w(),p=i("button"),p.innerHTML=T,d=w(),b=i("div"),g=i("div"),v=i("span"),A=i("span"),A.textContent=E,m=w(),y=i("span"),k=we(P),B=we("s"),O=w(),oe&&oe.c(),X=w(),ne&&ne.c(),F=w(),te&&te.c(),L=w(),S=i("div"),I=i("div"),Tt(R.$$.fragment),Q=w(),j=i("div"),Tt(K.$$.fragment),se=w(),Z=i("div"),Tt(ce.$$.fragment),W=w(),M=i("button"),be.c(),Y=w(),pe&&pe.c(),q=w(),ve&&ve.c(),fe=Nt(),this.h()},l(f){e=r(f,"HEADER",{class:!0});var N=C(e);t=r(N,"SPAN",{class:!0});var me=C(t);n=_e(me,a[23]),me.forEach(o),h=_(N),$&&$.l(N),u=_(N),p=r(N,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),U(p)!=="svelte-1lsad6w"&&(p.innerHTML=T),N.forEach(o),d=_(f),b=r(f,"DIV",{class:!0});var xe=C(b);g=r(xe,"DIV",{class:!0});var Ie=C(g);v=r(Ie,"SPAN",{class:!0});var ye=C(v);A=r(ye,"SPAN",{class:!0,"data-svelte-h":!0}),U(A)!=="svelte-11bjv01"&&(A.textContent=E),m=_(ye),y=r(ye,"SPAN",{class:!0});var ge=C(y);k=_e(ge,P),B=_e(ge,"s"),ge.forEach(o),ye.forEach(o),O=_(Ie),oe&&oe.l(Ie),X=_(Ie),ne&&ne.l(Ie),Ie.forEach(o),F=_(xe),te&&te.l(xe),xe.forEach(o),L=_(f),S=r(f,"DIV",{class:!0});var Ce=C(S);I=r(Ce,"DIV",{class:!0});var Xe=C(I);xt(R.$$.fragment,Xe),Xe.forEach(o),Q=_(Ce),j=r(Ce,"DIV",{class:!0});var Se=C(j);xt(K.$$.fragment,Se),Se.forEach(o),se=_(Ce),Z=r(Ce,"DIV",{class:!0});var Le=C(Z);xt(ce.$$.fragment,Le),Le.forEach(o),Ce.forEach(o),W=_(f),M=r(f,"BUTTON",{class:!0,"aria-label":!0});var je=C(M);be.l(je),je.forEach(o),Y=_(f),pe&&pe.l(f),q=_(f),ve&&ve.l(f),fe=Nt(),this.h()},h(){l(t,"class","filename svelte-17uybeh"),l(p,"class","settings-toggle svelte-17uybeh"),l(p,"aria-label","Toggle overlay settings"),vt(p,"active",a[12]),l(e,"class","viewer-header svelte-17uybeh"),l(A,"class","value-label svelte-17uybeh"),l(y,"class","value-num svelte-17uybeh"),l(v,"class","value-item svelte-17uybeh"),l(g,"class","values-row svelte-17uybeh"),l(b,"class","values-bar svelte-17uybeh"),l(I,"class","waveform-panel svelte-17uybeh"),l(j,"class","spectrogram-panel svelte-17uybeh"),l(Z,"class","time-axis-panel svelte-17uybeh"),l(S,"class","gesture-container svelte-17uybeh"),l(M,"class","fab-play svelte-17uybeh"),l(M,"aria-label",J=a[22]?"Pause":"Play"),vt(M,"playing",a[22])},m(f,N){V(f,e,N),s(e,t),s(t,n),s(e,h),$&&$.m(e,null),s(e,u),s(e,p),V(f,d,N),V(f,b,N),s(b,g),s(g,v),s(v,A),s(v,m),s(v,y),s(y,k),s(y,B),s(g,O),oe&&oe.m(g,null),s(g,X),ne&&ne.m(g,null),s(b,F),te&&te.m(b,null),V(f,L,N),V(f,S,N),s(S,I),Et(R,I,null),s(S,Q),s(S,j),Et(K,j,null),s(S,se),s(S,Z),Et(ce,Z,null),a[38](S),V(f,W,N),V(f,M,N),be.m(M,null),V(f,Y,N),pe&&pe.m(f,N),V(f,q,N),ve&&ve.m(f,N),V(f,fe,N),ee=!0,de||(Me=[ue(p,"click",a[37]),ue(S,"touchstart",a[33]),ue(S,"touchmove",a[34]),ue(S,"touchend",a[35],{passive:!0}),ue(S,"touchcancel",a[35],{passive:!0}),ue(M,"click",a[29])],de=!0)},p(f,N){(!ee||N[0]&8388608)&&ke(n,f[23]),f[3]?$?$.p(f,N):($=Mt(f),$.c(),$.m(e,u)):$&&($.d(1),$=null),(!ee||N[0]&4096)&&vt(p,"active",f[12]),(!ee||N[0]&2)&&P!==(P=At(f[1])+"")&&ke(k,P),f[20]?oe?oe.p(f,N):(oe=It(f),oe.c(),oe.m(g,X)):oe&&(oe.d(1),oe=null),f[21]?ne?ne.p(f,N):(ne=Bt(f),ne.c(),ne.m(g,null)):ne&&(ne.d(1),ne=null),f[20]?te?te.p(f,N):(te=Rt(f),te.c(),te.m(b,null)):te&&(te.d(1),te=null);const me={};N[0]&32&&(me.showPitch=f[5]),N[0]&64&&(me.showFormants=f[6]),N[0]&128&&(me.showIntensity=f[7]),N[0]&256&&(me.showHNR=f[8]),N[0]&512&&(me.showCoG=f[9]),N[0]&1024&&(me.showSpectralTilt=f[10]),N[0]&2048&&(me.showA1P0=f[11]),N[0]&8192&&(me.maxFreq=f[13]),K.$set(me),Oe!==(Oe=Ae(f))&&(be.d(1),be=Oe(f),be&&(be.c(),be.m(M,null))),(!ee||N[0]&4194304&&J!==(J=f[22]?"Pause":"Play"))&&l(M,"aria-label",J),(!ee||N[0]&4194304)&&vt(M,"playing",f[22]),f[19]?pe||(pe=zt(),pe.c(),pe.m(q.parentNode,q)):pe&&(pe.d(1),pe=null),f[12]?ve?ve.p(f,N):(ve=Ut(f),ve.c(),ve.m(fe.parentNode,fe)):ve&&(ve.d(1),ve=null)},i(f){ee||($e(R.$$.fragment,f),$e(K.$$.fragment,f),$e(ce.$$.fragment,f),ee=!0)},o(f){Qe(R.$$.fragment,f),Qe(K.$$.fragment,f),Qe(ce.$$.fragment,f),ee=!1},d(f){f&&(o(e),o(d),o(b),o(L),o(S),o(W),o(M),o(Y),o(q),o(fe)),$&&$.d(),oe&&oe.d(),ne&&ne.d(),te&&te.d(),Ct(R),Ct(K),Ct(ce),a[38](null),be.d(),pe&&pe.d(f),ve&&ve.d(f),de=!1,_t(Me)}}}function ps(a){let e;function t(u,p){return u[17]?Cs:u[18]?ws:u[15]?_s:gs}let n=t(a),h=n(a);return{c(){e=i("div"),h.c(),this.h()},l(u){e=r(u,"DIV",{class:!0});var p=C(e);h.l(p),p.forEach(o),this.h()},h(){l(e,"class","start-screen svelte-17uybeh")},m(u,p){V(u,e,p),h.m(e,null)},p(u,p){n===(n=t(u))&&h?h.p(u,p):(h.d(1),h=n(u),h&&(h.c(),h.m(e,null)))},i:We,o:We,d(u){u&&o(e),h.d()}}}function bs(a){let e,t="Loading acoustic analysis engine...";return{c(){e=i("div"),e.textContent=t,this.h()},l(n){e=r(n,"DIV",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-plgi30"&&(e.textContent=t),this.h()},h(){l(e,"class","loading svelte-17uybeh")},m(n,h){V(n,e,h)},p:We,i:We,o:We,d(n){n&&o(e)}}}function Mt(a){let e,t,n;return{c(){e=i("span"),t=we(a[24]),n=we("%"),this.h()},l(h){e=r(h,"SPAN",{class:!0});var u=C(e);t=_e(u,a[24]),n=_e(u,"%"),u.forEach(o),this.h()},h(){l(e,"class","analysis-progress svelte-17uybeh")},m(h,u){V(h,e,u),s(e,t),s(e,n)},p(h,u){u[0]&16777216&&ke(t,h[24])},d(h){h&&o(e)}}}function It(a){let e,t,n="F0:",h,u,p=Fe(a[20].pitch)+"",T,d,b,g,v="Int:",A,E,m=gt(a[20].intensity)+"",y,P,k,B,O="HNR:",X,F,L=gt(a[20].hnr)+"",S;return{c(){e=i("span"),t=i("span"),t.textContent=n,h=w(),u=i("span"),T=we(p),d=w(),b=i("span"),g=i("span"),g.textContent=v,A=w(),E=i("span"),y=we(m),P=w(),k=i("span"),B=i("span"),B.textContent=O,X=w(),F=i("span"),S=we(L),this.h()},l(I){e=r(I,"SPAN",{class:!0});var R=C(e);t=r(R,"SPAN",{class:!0,"data-svelte-h":!0}),U(t)!=="svelte-1jceyqb"&&(t.textContent=n),h=_(R),u=r(R,"SPAN",{class:!0});var Q=C(u);T=_e(Q,p),Q.forEach(o),R.forEach(o),d=_(I),b=r(I,"SPAN",{class:!0});var j=C(b);g=r(j,"SPAN",{class:!0,"data-svelte-h":!0}),U(g)!=="svelte-19u81py"&&(g.textContent=v),A=_(j),E=r(j,"SPAN",{class:!0});var K=C(E);y=_e(K,m),K.forEach(o),j.forEach(o),P=_(I),k=r(I,"SPAN",{class:!0});var se=C(k);B=r(se,"SPAN",{class:!0,"data-svelte-h":!0}),U(B)!=="svelte-v2btb1"&&(B.textContent=O),X=_(se),F=r(se,"SPAN",{class:!0});var Z=C(F);S=_e(Z,L),Z.forEach(o),se.forEach(o),this.h()},h(){l(t,"class","value-label svelte-17uybeh"),l(u,"class","value-num svelte-17uybeh"),l(e,"class","value-item pitch svelte-17uybeh"),l(g,"class","value-label svelte-17uybeh"),l(E,"class","value-num svelte-17uybeh"),l(b,"class","value-item intensity svelte-17uybeh"),l(B,"class","value-label svelte-17uybeh"),l(F,"class","value-num svelte-17uybeh"),l(k,"class","value-item hnr svelte-17uybeh")},m(I,R){V(I,e,R),s(e,t),s(e,h),s(e,u),s(u,T),V(I,d,R),V(I,b,R),s(b,g),s(b,A),s(b,E),s(E,y),V(I,P,R),V(I,k,R),s(k,B),s(k,X),s(k,F),s(F,S)},p(I,R){R[0]&1048576&&p!==(p=Fe(I[20].pitch)+"")&&ke(T,p),R[0]&1048576&&m!==(m=gt(I[20].intensity)+"")&&ke(y,m),R[0]&1048576&&L!==(L=gt(I[20].hnr)+"")&&ke(S,L)},d(I){I&&(o(e),o(d),o(b),o(P),o(k))}}}function Bt(a){let e,t,n="Sel:",h,u,p=(a[21].end-a[21].start).toFixed(3)+"",T,d;return{c(){e=i("span"),t=i("span"),t.textContent=n,h=w(),u=i("span"),T=we(p),d=we("s"),this.h()},l(b){e=r(b,"SPAN",{class:!0});var g=C(e);t=r(g,"SPAN",{class:!0,"data-svelte-h":!0}),U(t)!=="svelte-1j5x27x"&&(t.textContent=n),h=_(g),u=r(g,"SPAN",{class:!0});var v=C(u);T=_e(v,p),d=_e(v,"s"),v.forEach(o),g.forEach(o),this.h()},h(){l(t,"class","value-label svelte-17uybeh"),l(u,"class","value-num svelte-17uybeh"),l(e,"class","value-item selection svelte-17uybeh")},m(b,g){V(b,e,g),s(e,t),s(e,h),s(e,u),s(u,T),s(u,d)},p(b,g){g[0]&2097152&&p!==(p=(b[21].end-b[21].start).toFixed(3)+"")&&ke(T,p)},d(b){b&&o(e)}}}function Rt(a){let e,t,n,h="F1:",u,p,T=Fe(a[20].f1)+"",d,b,g,v,A="F2:",E,m,y=Fe(a[20].f2)+"",P,k,B,O,X="F3:",F,L,S=Fe(a[20].f3)+"",I,R,Q,j,K="F4:",se,Z,ce=Fe(a[20].f4)+"",W,M,J=a[20].cog!==null&&Ht(a);return{c(){e=i("div"),t=i("span"),n=i("span"),n.textContent=h,u=w(),p=i("span"),d=we(T),b=w(),g=i("span"),v=i("span"),v.textContent=A,E=w(),m=i("span"),P=we(y),k=w(),B=i("span"),O=i("span"),O.textContent=X,F=w(),L=i("span"),I=we(S),R=w(),Q=i("span"),j=i("span"),j.textContent=K,se=w(),Z=i("span"),W=we(ce),M=w(),J&&J.c(),this.h()},l(Y){e=r(Y,"DIV",{class:!0});var q=C(e);t=r(q,"SPAN",{class:!0});var fe=C(t);n=r(fe,"SPAN",{class:!0,"data-svelte-h":!0}),U(n)!=="svelte-3ihkqc"&&(n.textContent=h),u=_(fe),p=r(fe,"SPAN",{class:!0});var ee=C(p);d=_e(ee,T),ee.forEach(o),fe.forEach(o),b=_(q),g=r(q,"SPAN",{class:!0});var de=C(g);v=r(de,"SPAN",{class:!0,"data-svelte-h":!0}),U(v)!=="svelte-1kixf0h"&&(v.textContent=A),E=_(de),m=r(de,"SPAN",{class:!0});var Me=C(m);P=_e(Me,y),Me.forEach(o),de.forEach(o),k=_(q),B=r(q,"SPAN",{class:!0});var $=C(B);O=r($,"SPAN",{class:!0,"data-svelte-h":!0}),U(O)!=="svelte-emc1du"&&(O.textContent=X),F=_($),L=r($,"SPAN",{class:!0});var oe=C(L);I=_e(oe,S),oe.forEach(o),$.forEach(o),R=_(q),Q=r(q,"SPAN",{class:!0});var ne=C(Q);j=r(ne,"SPAN",{class:!0,"data-svelte-h":!0}),U(j)!=="svelte-1xq9m1r"&&(j.textContent=K),se=_(ne),Z=r(ne,"SPAN",{class:!0});var te=C(Z);W=_e(te,ce),te.forEach(o),ne.forEach(o),M=_(q),J&&J.l(q),q.forEach(o),this.h()},h(){l(n,"class","value-label svelte-17uybeh"),l(p,"class","value-num svelte-17uybeh"),l(t,"class","value-item formant svelte-17uybeh"),l(v,"class","value-label svelte-17uybeh"),l(m,"class","value-num svelte-17uybeh"),l(g,"class","value-item formant svelte-17uybeh"),l(O,"class","value-label svelte-17uybeh"),l(L,"class","value-num svelte-17uybeh"),l(B,"class","value-item formant svelte-17uybeh"),l(j,"class","value-label svelte-17uybeh"),l(Z,"class","value-num svelte-17uybeh"),l(Q,"class","value-item formant svelte-17uybeh"),l(e,"class","values-row svelte-17uybeh")},m(Y,q){V(Y,e,q),s(e,t),s(t,n),s(t,u),s(t,p),s(p,d),s(e,b),s(e,g),s(g,v),s(g,E),s(g,m),s(m,P),s(e,k),s(e,B),s(B,O),s(B,F),s(B,L),s(L,I),s(e,R),s(e,Q),s(Q,j),s(Q,se),s(Q,Z),s(Z,W),s(e,M),J&&J.m(e,null)},p(Y,q){q[0]&1048576&&T!==(T=Fe(Y[20].f1)+"")&&ke(d,T),q[0]&1048576&&y!==(y=Fe(Y[20].f2)+"")&&ke(P,y),q[0]&1048576&&S!==(S=Fe(Y[20].f3)+"")&&ke(I,S),q[0]&1048576&&ce!==(ce=Fe(Y[20].f4)+"")&&ke(W,ce),Y[20].cog!==null?J?J.p(Y,q):(J=Ht(Y),J.c(),J.m(e,null)):J&&(J.d(1),J=null)},d(Y){Y&&o(e),J&&J.d()}}}function Ht(a){let e,t,n="CoG:",h,u,p=Fe(a[20].cog)+"",T;return{c(){e=i("span"),t=i("span"),t.textContent=n,h=w(),u=i("span"),T=we(p),this.h()},l(d){e=r(d,"SPAN",{class:!0});var b=C(e);t=r(b,"SPAN",{class:!0,"data-svelte-h":!0}),U(t)!=="svelte-1xvmg40"&&(t.textContent=n),h=_(b),u=r(b,"SPAN",{class:!0});var g=C(u);T=_e(g,p),g.forEach(o),b.forEach(o),this.h()},h(){l(t,"class","value-label svelte-17uybeh"),l(u,"class","value-num svelte-17uybeh"),l(e,"class","value-item cog svelte-17uybeh")},m(d,b){V(d,e,b),s(e,t),s(e,h),s(e,u),s(u,T)},p(d,b){b[0]&1048576&&p!==(p=Fe(d[20].cog)+"")&&ke(T,p)},d(d){d&&o(e)}}}function ms(a){let e,t;return{c(){e=Ue("svg"),t=Ue("path"),this.h()},l(n){e=ze(n,"svg",{viewBox:!0,fill:!0,width:!0,height:!0});var h=C(e);t=ze(h,"path",{d:!0}),C(t).forEach(o),h.forEach(o),this.h()},h(){l(t,"d","M8 5v14l11-7z"),l(e,"viewBox","0 0 24 24"),l(e,"fill","currentColor"),l(e,"width","28"),l(e,"height","28")},m(n,h){V(n,e,h),s(e,t)},d(n){n&&o(e)}}}function ys(a){let e,t,n;return{c(){e=Ue("svg"),t=Ue("rect"),n=Ue("rect"),this.h()},l(h){e=ze(h,"svg",{viewBox:!0,fill:!0,width:!0,height:!0});var u=C(e);t=ze(u,"rect",{x:!0,y:!0,width:!0,height:!0}),C(t).forEach(o),n=ze(u,"rect",{x:!0,y:!0,width:!0,height:!0}),C(n).forEach(o),u.forEach(o),this.h()},h(){l(t,"x","6"),l(t,"y","4"),l(t,"width","4"),l(t,"height","16"),l(n,"x","14"),l(n,"y","4"),l(n,"width","4"),l(n,"height","16"),l(e,"viewBox","0 0 24 24"),l(e,"fill","currentColor"),l(e,"width","28"),l(e,"height","28")},m(h,u){V(h,e,u),s(e,t),s(e,n)},d(h){h&&o(e)}}}function zt(a){let e,t="Copied!";return{c(){e=i("div"),e.textContent=t,this.h()},l(n){e=r(n,"DIV",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-1brkzeu"&&(e.textContent=t),this.h()},h(){l(e,"class","copy-notification svelte-17uybeh")},m(n,h){V(n,e,h)},d(n){n&&o(e)}}}function Ut(a){let e,t,n,h,u,p="Settings",T,d,b='<svg viewBox="0 0 24 24" fill="currentColor" width="24" height="24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>',g,v,A="Overlays",E,m,y,P,k,B="Pitch",O,X,F,L,S,I="Formants",R,Q,j,K,se,Z="Intensity",ce,W,M,J,Y,q="HNR",fe,ee,de,Me,$,oe="CoG",ne,te,Ae,Oe,be,pe="Spectral Tilt",ve,f,N,me,xe,Ie="A1-P0",ye,ge,Ce="Display",Xe,Se,Le,je="Max Frequency",Ke,Pe,Be,et="5 kHz",Re,tt="7.5 kHz",He,st="10 kHz",Ze,Ve,c="Developer",H,D,x,ae,he,le="Debug Console",G,Te,re=`<strong class="svelte-17uybeh">Gestures:</strong><br/>
					Tap: position cursor<br/>
					Long press: copy values<br/>
					Drag (1 finger): select region<br/>
					Drag (2 fingers): pan view<br/>
					Pinch: zoom in/out`,Ee,Ne;return{c(){e=i("div"),t=w(),n=i("div"),h=i("div"),u=i("h3"),u.textContent=p,T=w(),d=i("button"),d.innerHTML=b,g=w(),v=i("h4"),v.textContent=A,E=w(),m=i("label"),y=i("input"),P=w(),k=i("span"),k.textContent=B,O=w(),X=i("label"),F=i("input"),L=w(),S=i("span"),S.textContent=I,R=w(),Q=i("label"),j=i("input"),K=w(),se=i("span"),se.textContent=Z,ce=w(),W=i("label"),M=i("input"),J=w(),Y=i("span"),Y.textContent=q,fe=w(),ee=i("label"),de=i("input"),Me=w(),$=i("span"),$.textContent=oe,ne=w(),te=i("label"),Ae=i("input"),Oe=w(),be=i("span"),be.textContent=pe,ve=w(),f=i("label"),N=i("input"),me=w(),xe=i("span"),xe.textContent=Ie,ye=w(),ge=i("h4"),ge.textContent=Ce,Xe=w(),Se=i("label"),Le=i("span"),Le.textContent=je,Ke=w(),Pe=i("select"),Be=i("option"),Be.textContent=et,Re=i("option"),Re.textContent=tt,He=i("option"),He.textContent=st,Ze=w(),Ve=i("h4"),Ve.textContent=c,H=w(),D=i("label"),x=i("input"),ae=w(),he=i("span"),he.textContent=le,G=w(),Te=i("div"),Te.innerHTML=re,this.h()},l(ie){e=r(ie,"DIV",{class:!0,role:!0,tabindex:!0,"aria-label":!0}),C(e).forEach(o),t=_(ie),n=r(ie,"DIV",{class:!0});var z=C(n);h=r(z,"DIV",{class:!0});var lt=C(h);u=r(lt,"H3",{class:!0,"data-svelte-h":!0}),U(u)!=="svelte-1qq2p5h"&&(u.textContent=p),T=_(lt),d=r(lt,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),U(d)!=="svelte-zmgmiz"&&(d.innerHTML=b),lt.forEach(o),g=_(z),v=r(z,"H4",{class:!0,"data-svelte-h":!0}),U(v)!=="svelte-1ytkcxr"&&(v.textContent=A),E=_(z),m=r(z,"LABEL",{class:!0});var nt=C(m);y=r(nt,"INPUT",{type:!0,class:!0}),P=_(nt),k=r(nt,"SPAN",{class:!0,"data-svelte-h":!0}),U(k)!=="svelte-1k01z98"&&(k.textContent=B),nt.forEach(o),O=_(z),X=r(z,"LABEL",{class:!0});var at=C(X);F=r(at,"INPUT",{type:!0,class:!0}),L=_(at),S=r(at,"SPAN",{class:!0,"data-svelte-h":!0}),U(S)!=="svelte-6cthmg"&&(S.textContent=I),at.forEach(o),R=_(z),Q=r(z,"LABEL",{class:!0});var ot=C(Q);j=r(ot,"INPUT",{type:!0,class:!0}),K=_(ot),se=r(ot,"SPAN",{class:!0,"data-svelte-h":!0}),U(se)!=="svelte-1el2ji2"&&(se.textContent=Z),ot.forEach(o),ce=_(z),W=r(z,"LABEL",{class:!0});var rt=C(W);M=r(rt,"INPUT",{type:!0,class:!0}),J=_(rt),Y=r(rt,"SPAN",{class:!0,"data-svelte-h":!0}),U(Y)!=="svelte-177jta0"&&(Y.textContent=q),rt.forEach(o),fe=_(z),ee=r(z,"LABEL",{class:!0});var it=C(ee);de=r(it,"INPUT",{type:!0,class:!0}),Me=_(it),$=r(it,"SPAN",{class:!0,"data-svelte-h":!0}),U($)!=="svelte-1myrnh2"&&($.textContent=oe),it.forEach(o),ne=_(z),te=r(z,"LABEL",{class:!0});var ut=C(te);Ae=r(ut,"INPUT",{type:!0,class:!0}),Oe=_(ut),be=r(ut,"SPAN",{class:!0,"data-svelte-h":!0}),U(be)!=="svelte-apa4eu"&&(be.textContent=pe),ut.forEach(o),ve=_(z),f=r(z,"LABEL",{class:!0});var ct=C(f);N=r(ct,"INPUT",{type:!0,class:!0}),me=_(ct),xe=r(ct,"SPAN",{class:!0,"data-svelte-h":!0}),U(xe)!=="svelte-kia4wx"&&(xe.textContent=Ie),ct.forEach(o),ye=_(z),ge=r(z,"H4",{class:!0,"data-svelte-h":!0}),U(ge)!=="svelte-1v5wz70"&&(ge.textContent=Ce),Xe=_(z),Se=r(z,"LABEL",{class:!0});var ht=C(Se);Le=r(ht,"SPAN",{class:!0,"data-svelte-h":!0}),U(Le)!=="svelte-8ejmam"&&(Le.textContent=je),Ke=_(ht),Pe=r(ht,"SELECT",{class:!0});var ft=C(Pe);Be=r(ft,"OPTION",{"data-svelte-h":!0}),U(Be)!=="svelte-1awwqhf"&&(Be.textContent=et),Re=r(ft,"OPTION",{"data-svelte-h":!0}),U(Re)!=="svelte-1xbdoff"&&(Re.textContent=tt),He=r(ft,"OPTION",{"data-svelte-h":!0}),U(He)!=="svelte-1o5m333"&&(He.textContent=st),ft.forEach(o),ht.forEach(o),Ze=_(z),Ve=r(z,"H4",{class:!0,"data-svelte-h":!0}),U(Ve)!=="svelte-96eps0"&&(Ve.textContent=c),H=_(z),D=r(z,"LABEL",{class:!0});var dt=C(D);x=r(dt,"INPUT",{type:!0,class:!0}),ae=_(dt),he=r(dt,"SPAN",{class:!0,"data-svelte-h":!0}),U(he)!=="svelte-6vrejm"&&(he.textContent=le),dt.forEach(o),G=_(z),Te=r(z,"DIV",{class:!0,"data-svelte-h":!0}),U(Te)!=="svelte-eah9nh"&&(Te.innerHTML=re),z.forEach(o),this.h()},h(){l(e,"class","settings-backdrop svelte-17uybeh"),l(e,"role","button"),l(e,"tabindex","0"),l(e,"aria-label","Close settings"),l(u,"class","svelte-17uybeh"),l(d,"class","close-btn svelte-17uybeh"),l(d,"aria-label","Close"),l(h,"class","drawer-header svelte-17uybeh"),l(v,"class","svelte-17uybeh"),l(y,"type","checkbox"),l(y,"class","svelte-17uybeh"),l(k,"class","toggle-label pitch svelte-17uybeh"),l(m,"class","toggle-row svelte-17uybeh"),l(F,"type","checkbox"),l(F,"class","svelte-17uybeh"),l(S,"class","toggle-label formants svelte-17uybeh"),l(X,"class","toggle-row svelte-17uybeh"),l(j,"type","checkbox"),l(j,"class","svelte-17uybeh"),l(se,"class","toggle-label intensity svelte-17uybeh"),l(Q,"class","toggle-row svelte-17uybeh"),l(M,"type","checkbox"),l(M,"class","svelte-17uybeh"),l(Y,"class","toggle-label hnr svelte-17uybeh"),l(W,"class","toggle-row svelte-17uybeh"),l(de,"type","checkbox"),l(de,"class","svelte-17uybeh"),l($,"class","toggle-label cog svelte-17uybeh"),l(ee,"class","toggle-row svelte-17uybeh"),l(Ae,"type","checkbox"),l(Ae,"class","svelte-17uybeh"),l(be,"class","toggle-label tilt svelte-17uybeh"),l(te,"class","toggle-row svelte-17uybeh"),l(N,"type","checkbox"),l(N,"class","svelte-17uybeh"),l(xe,"class","toggle-label a1p0 svelte-17uybeh"),l(f,"class","toggle-row svelte-17uybeh"),l(ge,"class","svelte-17uybeh"),l(Le,"class","svelte-17uybeh"),Be.__value=5e3,wt(Be,Be.__value),Re.__value=7500,wt(Re,Re.__value),He.__value=1e4,wt(He,He.__value),l(Pe,"class","svelte-17uybeh"),a[13]===void 0&&Gt(()=>a[47].call(Pe)),l(Se,"class","select-row svelte-17uybeh"),l(Ve,"class","svelte-17uybeh"),l(x,"type","checkbox"),x.checked=a[14],l(x,"class","svelte-17uybeh"),l(he,"class","toggle-label svelte-17uybeh"),l(D,"class","toggle-row svelte-17uybeh"),l(Te,"class","help-text svelte-17uybeh"),l(n,"class","settings-drawer svelte-17uybeh")},m(ie,z){V(ie,e,z),V(ie,t,z),V(ie,n,z),s(n,h),s(h,u),s(h,T),s(h,d),s(n,g),s(n,v),s(n,E),s(n,m),s(m,y),y.checked=a[5],s(m,P),s(m,k),s(n,O),s(n,X),s(X,F),F.checked=a[6],s(X,L),s(X,S),s(n,R),s(n,Q),s(Q,j),j.checked=a[7],s(Q,K),s(Q,se),s(n,ce),s(n,W),s(W,M),M.checked=a[8],s(W,J),s(W,Y),s(n,fe),s(n,ee),s(ee,de),de.checked=a[9],s(ee,Me),s(ee,$),s(n,ne),s(n,te),s(te,Ae),Ae.checked=a[10],s(te,Oe),s(te,be),s(n,ve),s(n,f),s(f,N),N.checked=a[11],s(f,me),s(f,xe),s(n,ye),s(n,ge),s(n,Xe),s(n,Se),s(Se,Le),s(Se,Ke),s(Se,Pe),s(Pe,Be),s(Pe,Re),s(Pe,He),Lt(Pe,a[13],!0),s(n,Ze),s(n,Ve),s(n,H),s(n,D),s(D,x),s(D,ae),s(D,he),s(n,G),s(n,Te),Ee||(Ne=[ue(e,"click",a[30]),ue(e,"keydown",a[39]),ue(d,"click",a[30]),ue(y,"change",a[40]),ue(F,"change",a[41]),ue(j,"change",a[42]),ue(M,"change",a[43]),ue(de,"change",a[44]),ue(Ae,"change",a[45]),ue(N,"change",a[46]),ue(Pe,"change",a[47]),ue(x,"change",a[31])],Ee=!0)},p(ie,z){z[0]&32&&(y.checked=ie[5]),z[0]&64&&(F.checked=ie[6]),z[0]&128&&(j.checked=ie[7]),z[0]&256&&(M.checked=ie[8]),z[0]&512&&(de.checked=ie[9]),z[0]&1024&&(Ae.checked=ie[10]),z[0]&2048&&(N.checked=ie[11]),z[0]&8192&&Lt(Pe,ie[13]),z[0]&16384&&(x.checked=ie[14])},d(ie){ie&&(o(e),o(t),o(n)),Ee=!1,_t(Ne)}}}function gs(a){let e,t="Ozen Viewer",n,h,u,p,T,d,b,g,v,A="Load File",E,m,y='<svg viewBox="0 0 24 24" fill="currentColor" width="32" height="32" class="svelte-17uybeh"><circle cx="12" cy="12" r="8"></circle></svg> <span class="svelte-17uybeh">Record</span>',P,k,B="Load an audio file or record from microphone",O,X;return{c(){e=i("h2"),e.textContent=t,n=w(),h=i("div"),u=i("label"),p=i("input"),T=w(),d=Ue("svg"),b=Ue("path"),g=w(),v=i("span"),v.textContent=A,E=w(),m=i("button"),m.innerHTML=y,P=w(),k=i("p"),k.textContent=B,this.h()},l(F){e=r(F,"H2",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-mnbvxu"&&(e.textContent=t),n=_(F),h=r(F,"DIV",{class:!0});var L=C(h);u=r(L,"LABEL",{class:!0});var S=C(u);p=r(S,"INPUT",{type:!0,accept:!0,class:!0}),T=_(S),d=ze(S,"svg",{viewBox:!0,fill:!0,width:!0,height:!0,class:!0});var I=C(d);b=ze(I,"path",{d:!0}),C(b).forEach(o),I.forEach(o),g=_(S),v=r(S,"SPAN",{class:!0,"data-svelte-h":!0}),U(v)!=="svelte-uiqi90"&&(v.textContent=A),S.forEach(o),E=_(L),m=r(L,"BUTTON",{class:!0,"data-svelte-h":!0}),U(m)!=="svelte-1ihwn15"&&(m.innerHTML=y),L.forEach(o),P=_(F),k=r(F,"P",{class:!0,"data-svelte-h":!0}),U(k)!=="svelte-vzth4g"&&(k.textContent=B),this.h()},h(){l(e,"class","svelte-17uybeh"),l(p,"type","file"),l(p,"accept","audio/*"),l(p,"class","svelte-17uybeh"),l(b,"d","M9 16h6v-6h4l-7-7-7 7h4v6zm-4 2h14v2H5v-2z"),l(d,"viewBox","0 0 24 24"),l(d,"fill","currentColor"),l(d,"width","32"),l(d,"height","32"),l(d,"class","svelte-17uybeh"),l(v,"class","svelte-17uybeh"),l(u,"class","start-btn load-btn svelte-17uybeh"),l(m,"class","start-btn record-btn svelte-17uybeh"),l(h,"class","start-buttons svelte-17uybeh"),l(k,"class","start-hint svelte-17uybeh")},m(F,L){V(F,e,L),V(F,n,L),V(F,h,L),s(h,u),s(u,p),s(u,T),s(u,d),s(d,b),s(u,g),s(u,v),s(h,E),s(h,m),V(F,P,L),V(F,k,L),O||(X=[ue(p,"change",a[27]),ue(m,"click",a[25])],O=!0)},p:We,d(F){F&&(o(e),o(n),o(h),o(P),o(k)),O=!1,_t(X)}}}function _s(a){let e,t,n,h,u=a[16].toFixed(1)+"",p,T,d,b,g='<svg viewBox="0 0 24 24" fill="currentColor" width="32" height="32"><rect x="6" y="6" width="12" height="12" rx="2"></rect></svg> <span>Stop</span>',v,A;return{c(){e=i("div"),t=i("div"),n=w(),h=i("span"),p=we(u),T=we("s"),d=w(),b=i("button"),b.innerHTML=g,this.h()},l(E){e=r(E,"DIV",{class:!0});var m=C(e);t=r(m,"DIV",{class:!0}),C(t).forEach(o),n=_(m),h=r(m,"SPAN",{class:!0});var y=C(h);p=_e(y,u),T=_e(y,"s"),y.forEach(o),m.forEach(o),d=_(E),b=r(E,"BUTTON",{class:!0,"data-svelte-h":!0}),U(b)!=="svelte-1lyeckk"&&(b.innerHTML=g),this.h()},h(){l(t,"class","recording-pulse svelte-17uybeh"),l(h,"class","recording-time svelte-17uybeh"),l(e,"class","recording-indicator svelte-17uybeh"),l(b,"class","stop-record-btn svelte-17uybeh")},m(E,m){V(E,e,m),s(e,t),s(e,n),s(e,h),s(h,p),s(h,T),V(E,d,m),V(E,b,m),v||(A=ue(b,"click",a[26]),v=!0)},p(E,m){m[0]&65536&&u!==(u=E[16].toFixed(1)+"")&&ke(p,u)},d(E){E&&(o(e),o(d),o(b)),v=!1,A()}}}function ws(a){let e,t,n,h,u,p="Failed to Load Audio",T,d,b,g,v,A="Retry",E,m,y,P="or load a different file:",k,B,O,X,F,L,S,I,R,Q="Load File",j,K,se='<svg viewBox="0 0 24 24" fill="currentColor" width="32" height="32" class="svelte-17uybeh"><circle cx="12" cy="12" r="8"></circle></svg> <span class="svelte-17uybeh">Record</span>',Z,ce;return{c(){e=i("div"),t=Ue("svg"),n=Ue("path"),h=w(),u=i("h3"),u.textContent=p,T=w(),d=i("p"),b=we(a[18]),g=w(),v=i("button"),v.textContent=A,E=w(),m=i("div"),y=i("p"),y.textContent=P,k=w(),B=i("div"),O=i("label"),X=i("input"),F=w(),L=Ue("svg"),S=Ue("path"),I=w(),R=i("span"),R.textContent=Q,j=w(),K=i("button"),K.innerHTML=se,this.h()},l(W){e=r(W,"DIV",{class:!0});var M=C(e);t=ze(M,"svg",{viewBox:!0,fill:!0,width:!0,height:!0,class:!0});var J=C(t);n=ze(J,"path",{d:!0}),C(n).forEach(o),J.forEach(o),h=_(M),u=r(M,"H3",{class:!0,"data-svelte-h":!0}),U(u)!=="svelte-1ajsa28"&&(u.textContent=p),T=_(M),d=r(M,"P",{class:!0});var Y=C(d);b=_e(Y,a[18]),Y.forEach(o),g=_(M),v=r(M,"BUTTON",{class:!0,"data-svelte-h":!0}),U(v)!=="svelte-1qdjdc1"&&(v.textContent=A),M.forEach(o),E=_(W),m=r(W,"DIV",{class:!0});var q=C(m);y=r(q,"P",{class:!0,"data-svelte-h":!0}),U(y)!=="svelte-12u93jx"&&(y.textContent=P),k=_(q),B=r(q,"DIV",{class:!0});var fe=C(B);O=r(fe,"LABEL",{class:!0});var ee=C(O);X=r(ee,"INPUT",{type:!0,accept:!0,class:!0}),F=_(ee),L=ze(ee,"svg",{viewBox:!0,fill:!0,width:!0,height:!0,class:!0});var de=C(L);S=ze(de,"path",{d:!0}),C(S).forEach(o),de.forEach(o),I=_(ee),R=r(ee,"SPAN",{class:!0,"data-svelte-h":!0}),U(R)!=="svelte-uiqi90"&&(R.textContent=Q),ee.forEach(o),j=_(fe),K=r(fe,"BUTTON",{class:!0,"data-svelte-h":!0}),U(K)!=="svelte-1czl2da"&&(K.innerHTML=se),fe.forEach(o),q.forEach(o),this.h()},h(){l(n,"d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"),l(t,"viewBox","0 0 24 24"),l(t,"fill","currentColor"),l(t,"width","48"),l(t,"height","48"),l(t,"class","error-icon svelte-17uybeh"),l(u,"class","svelte-17uybeh"),l(d,"class","error-detail svelte-17uybeh"),l(v,"class","retry-btn svelte-17uybeh"),l(e,"class","error-message svelte-17uybeh"),l(y,"class","or-text svelte-17uybeh"),l(X,"type","file"),l(X,"accept","audio/*"),l(X,"class","svelte-17uybeh"),l(S,"d","M9 16h6v-6h4l-7-7-7 7h4v6zm-4 2h14v2H5v-2z"),l(L,"viewBox","0 0 24 24"),l(L,"fill","currentColor"),l(L,"width","32"),l(L,"height","32"),l(L,"class","svelte-17uybeh"),l(R,"class","svelte-17uybeh"),l(O,"class","start-btn load-btn svelte-17uybeh"),l(K,"class","start-btn record-btn svelte-17uybeh"),l(B,"class","start-buttons svelte-17uybeh"),l(m,"class","fallback-options svelte-17uybeh")},m(W,M){V(W,e,M),s(e,t),s(t,n),s(e,h),s(e,u),s(e,T),s(e,d),s(d,b),s(e,g),s(e,v),V(W,E,M),V(W,m,M),s(m,y),s(m,k),s(m,B),s(B,O),s(O,X),s(O,F),s(O,L),s(L,S),s(O,I),s(O,R),s(B,j),s(B,K),Z||(ce=[ue(v,"click",a[28]),ue(X,"change",a[27]),ue(K,"click",a[25])],Z=!0)},p(W,M){M[0]&262144&&ke(b,W[18])},d(W){W&&(o(e),o(E),o(m)),Z=!1,_t(ce)}}}function Cs(a){let e,t='<div class="spinner svelte-17uybeh"></div> <p class="loading-text svelte-17uybeh">Loading audio from URL...</p>';return{c(){e=i("div"),e.innerHTML=t,this.h()},l(n){e=r(n,"DIV",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-7vvwx3"&&(e.innerHTML=t),this.h()},h(){l(e,"class","loading-url svelte-17uybeh")},m(n,h){V(n,e,h)},p:We,d(n){n&&o(e)}}}function Es(a){let e,t,n,h,u,p,T,d,b,g,v;const A=[bs,ps,vs],E=[];function m(y,P){return y[4]?y[2]?2:1:0}return T=m(a),d=E[T]=A[T](a),{c(){e=i("meta"),t=i("meta"),n=i("meta"),h=i("meta"),u=w(),p=i("main"),d.c(),this.h()},l(y){const P=Vt("svelte-lx7wv1",Je.head);e=r(P,"META",{name:!0,content:!0}),t=r(P,"META",{name:!0,content:!0}),n=r(P,"META",{name:!0,content:!0}),h=r(P,"META",{name:!0,content:!0}),P.forEach(o),u=_(y),p=r(y,"MAIN",{class:!0});var k=C(p);d.l(k),k.forEach(o),this.h()},h(){l(e,"name","viewport"),l(e,"content","width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover"),l(t,"name","mobile-web-app-capable"),l(t,"content","yes"),l(n,"name","apple-mobile-web-app-capable"),l(n,"content","yes"),l(h,"name","apple-mobile-web-app-status-bar-style"),l(h,"content","black-translucent"),l(p,"class","viewer-main svelte-17uybeh")},m(y,P){s(Je.head,e),s(Je.head,t),s(Je.head,n),s(Je.head,h),V(y,u,P),V(y,p,P),E[T].m(p,null),b=!0,g||(v=ue(ds,"keydown",a[32]),g=!0)},p(y,P){let k=T;T=m(y),T===k?E[T].p(y,P):(Zt(),Qe(E[k],1,1,()=>{E[k]=null}),Kt(),d=E[T],d?d.p(y,P):(d=E[T]=A[T](y),d.c()),$e(d,1),d.m(p,null))},i(y){b||($e(d),b=!0)},o(y){Qe(d),b=!1},d(y){y&&(o(u),o(p)),o(e),o(t),o(n),o(h),E[T].d(),g=!1,v()}}}const xs=500,Ts=10;function At(a){return a.toFixed(3)}function Fe(a){return a===null?"-":Math.round(a).toString()}function gt(a){return a===null?"-":a.toFixed(1)}function Ps(a){const e=document.createElement("textarea");e.value=a,e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.opacity="0",document.body.appendChild(e),e.focus(),e.select();try{const t=document.execCommand("copy");return document.body.removeChild(e),t}catch{return document.body.removeChild(e),!1}}function ks(a,e,t){let n,h,u,p,T,d,b,g,v,A,E,m,y;De(a,qe,c=>t(1,h=c)),De(a,ls,c=>t(36,u=c)),De(a,Ge,c=>t(21,p=c)),De(a,ns,c=>t(22,T=c)),De(a,Ye,c=>t(58,d=c)),De(a,bt,c=>t(59,b=c)),De(a,pt,c=>t(2,g=c)),De(a,as,c=>t(3,v=c)),De(a,os,c=>t(4,A=c)),De(a,Jt,c=>t(60,E=c)),De(a,mt,c=>t(23,m=c)),De(a,rs,c=>t(24,y=c));let P,k=null,B=!0,O=!0,X=!1,F=!1,L=!1,S=!1,I=!1,R=!1,Q=5e3,j=!1,K=null,se=!1,Z=null,ce=[],W=0,M=null,J=!1,Y=null,q=!1;Xt(()=>{Qt();const c=E.url.searchParams.get("overlays");c&&Ae(c);const H=oe();H&&!q&&(q=!0,ne(H))}),St(()=>{k&&k(),M&&clearInterval(M),Z&&se&&Z.stop()});async function fe(){try{const c=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1}});ce=[],Z=new MediaRecorder(c,{mimeType:"audio/webm"}),Z.ondataavailable=H=>{H.data.size>0&&ce.push(H.data)},Z.onstop=async()=>{c.getTracks().forEach(D=>D.stop());const H=new Blob(ce,{type:"audio/webm"});await de(H)},Z.start(100),t(15,se=!0),t(16,W=0),M=setInterval(()=>{t(16,W+=.1)},100)}catch(c){console.error("Failed to start recording:",c),alert("Could not access microphone. Please allow microphone access.")}}function ee(){Z&&se&&(Z.stop(),t(15,se=!1),M&&(clearInterval(M),M=null))}async function de(c){Pt();const H=await c.arrayBuffer(),x=await new AudioContext().decodeAudioData(H),ae=new Float64Array(x.length),he=x.getChannelData(0);for(let G=0;G<x.length;G++)ae[G]=he[G];pt.set(ae),bt.set(x.sampleRate),mt.set(`Recording ${new Date().toLocaleTimeString()}`),kt.set(x.length/x.sampleRate);const le=x.length/x.sampleRate;Ye.set({start:0,end:Math.min(le,10)}),qe.set(0),Ge.set(null),yt().catch(G=>console.error("Analysis failed:",G))}function Me(c){var x;const H=c.target,D=(x=H.files)==null?void 0:x[0];D&&$(D),H.value=""}async function $(c){Pt();const H=await c.arrayBuffer(),x=await new AudioContext().decodeAudioData(H),ae=new Float64Array(x.length),he=x.getChannelData(0);for(let G=0;G<x.length;G++)ae[G]=he[G];pt.set(ae),bt.set(x.sampleRate),mt.set(c.name),kt.set(x.length/x.sampleRate);const le=x.length/x.sampleRate;Ye.set({start:0,end:Math.min(le,10)}),qe.set(0),Ge.set(null),yt().catch(G=>console.error("Analysis failed:",G))}function oe(){const c=E.url.searchParams.get("audio");return!c||c.trim()===""?null:c.trim()}async function ne(c){t(17,J=!0),t(18,Y=null),Pt();try{const D=c.startsWith("data:")?`data URL (${(c.length/1024).toFixed(1)}KB)`:c;console.log(`Fetching audio from: ${D}`),c.length>2e6&&console.warn(`Warning: URL is ${(c.length/1024/1024).toFixed(1)}MB. Some browsers limit URLs to ~2MB.`);const x=await fetch(c,{method:"GET",mode:"cors",cache:"default"});if(!x.ok)throw new Error(`Failed to fetch audio: ${x.status} ${x.statusText}`);const ae=await x.arrayBuffer();if(ae.byteLength===0)throw new Error("Audio file is empty (0 bytes)");console.log(`Fetched ${ae.byteLength} bytes, decoding...`);const le=await new AudioContext().decodeAudioData(ae),G=new Float64Array(le.length),Te=le.getChannelData(0);for(let Ne=0;Ne<le.length;Ne++)G[Ne]=Te[Ne];pt.set(G),bt.set(le.sampleRate);let re="audio.wav";if(c.startsWith("data:"))re="embedded-audio.wav";else{const ie=new URL(c,window.location.href).pathname.split("/");re=ie[ie.length-1]||"audio.wav"}mt.set(re),kt.set(le.length/le.sampleRate);const Ee=le.length/le.sampleRate;Ye.set({start:0,end:Math.min(Ee,10)}),qe.set(0),Ge.set(null),console.log(`Audio loaded: ${Ee.toFixed(2)}s at ${le.sampleRate}Hz`),A?await yt():console.log("Waiting for WASM to initialize before analysis...")}catch(H){console.error("Failed to load audio from URL:",H);let D="Failed to load audio from URL.";H instanceof TypeError&&H.message.includes("Failed to fetch")?D="Network error: Could not fetch audio. Check CORS settings.":H instanceof DOMException&&H.name==="EncodingError"?D="Audio decoding failed: Unsupported format or corrupted file.":H instanceof Error&&(D=`Error: ${H.message}`),t(18,Y=D)}finally{t(17,J=!1)}}function te(){const c=oe();c&&(t(18,Y=null),ne(c))}function Ae(c){const H=c.toLowerCase().trim();if(H==="all"){t(5,B=!0),t(6,O=!0),t(7,X=!0),t(8,F=!0),t(9,L=!0),t(10,S=!0),t(11,I=!0),console.log("Overlays: all enabled");return}const D=H.split(",").map(x=>x.trim()).filter(x=>x.length>0);if(D.length===0){console.warn("Empty overlays parameter, using defaults");return}t(5,B=!1),t(6,O=!1),t(7,X=!1),t(8,F=!1),t(9,L=!1),t(10,S=!1),t(11,I=!1);for(const x of D)switch(x){case"pitch":case"f0":t(5,B=!0);break;case"formants":case"formant":t(6,O=!0);break;case"intensity":case"int":t(7,X=!0);break;case"hnr":t(8,F=!0);break;case"cog":t(9,L=!0);break;case"spectraltilt":case"tilt":t(10,S=!0);break;case"a1p0":case"a1-p0":t(11,I=!0);break;default:console.warn(`Unknown overlay: ${x}`)}console.log(`Overlays configured: ${D.join(", ")}`)}function Oe(){if(k&&k(),!P||!g)return;const c=g.length/b;k=fs(P,{onPan:D=>{const{start:x,end:ae}=d,he=ae-x;let le=x+D,G=ae+D;le<0&&(le=0,G=he),G>c&&(G=c,le=Math.max(0,c-he)),Ye.set({start:le,end:G})},onZoom:(D,x)=>{const{start:ae,end:he}=d,le=he-ae,G=Math.max(.01,Math.min(c,le/D)),Te=(x-ae)/le;let re=x-Te*G,Ee=x+(1-Te)*G;re<0&&(re=0,Ee=Math.min(c,G)),Ee>c&&(Ee=c,re=Math.max(0,c-G)),Ye.set({start:re,end:Ee})},onTap:D=>{qe.set(D),Ge.set(null)},onSelectionStart:D=>{K=D,qe.set(D),Ge.set(null)},onSelectionMove:D=>{if(K!==null){const x=Math.min(K,D),ae=Math.max(K,D);ae-x>.001&&Ge.set({start:x,end:ae}),qe.set(D)}},onSelectionEnd:()=>{K=null},getTimeFromX:D=>{const x=P.getBoundingClientRect(),ae=D-x.left,{start:he,end:le}=d,G=45,re=x.width-G-45,Ee=ae-G;return he+Ee/re*(le-he)},getVisibleDuration:()=>{const{start:D,end:x}=d;return x-D}})}function be(){T?is():p?us(p.start,p.end):ss()}function pe(){t(12,R=!1)}function ve(){if(t(14,j=!j),j)if(window.eruda)window.eruda.show();else{const c=document.createElement("script");c.src="https://cdn.jsdelivr.net/npm/eruda",c.onload=()=>{window.eruda.init()},document.head.appendChild(c)}else window.eruda&&window.eruda.hide()}let f=!1,N=null;function me(){t(19,f=!0),N&&clearTimeout(N),N=setTimeout(()=>{t(19,f=!1),N=null},2e3)}async function xe(){if(!n)return;const c=[];c.push(`T: ${At(h)}s`),B&&n.pitch!==null&&n.pitch!==void 0&&c.push(`F0: ${n.pitch.toFixed(1)} Hz`),X&&n.intensity!==null&&n.intensity!==void 0&&c.push(`Intensity: ${n.intensity.toFixed(1)} dB`),O&&(n.f1!==null&&n.f1!==void 0&&c.push(`F1: ${n.f1.toFixed(0)} Hz`),n.f2!==null&&n.f2!==void 0&&c.push(`F2: ${n.f2.toFixed(0)} Hz`),n.f3!==null&&n.f3!==void 0&&c.push(`F3: ${n.f3.toFixed(0)} Hz`),n.f4!==null&&n.f4!==void 0&&c.push(`F4: ${n.f4.toFixed(0)} Hz`)),F&&n.hnr!==null&&n.hnr!==void 0&&c.push(`HNR: ${n.hnr.toFixed(1)} dB`),L&&n.cog!==null&&n.cog!==void 0&&c.push(`CoG: ${n.cog.toFixed(0)} Hz`),S&&n.spectralTilt!==null&&n.spectralTilt!==void 0&&c.push(`Spectral Tilt: ${n.spectralTilt.toFixed(1)} dB`),I&&n.a1p0!==null&&n.a1p0!==void 0&&c.push(`A1-P0: ${n.a1p0.toFixed(1)} dB`);const H=c.join(", ");try{await navigator.clipboard.writeText(H),me()}catch{Ps(H)&&me()}}function Ie(c){(c.ctrlKey||c.metaKey)&&c.key.toLowerCase()==="c"&&(c.preventDefault(),xe())}let ye=null,ge=null,Ce=null;function Xe(c){if(c.touches.length!==1)return;const H=c.touches[0];ge=H.clientX,Ce=H.clientY,ye=window.setTimeout(()=>{xe(),ye=null,ge=null,Ce=null},xs)}function Se(c){if(ye===null||c.touches.length!==1||ge===null||Ce===null)return;const H=c.touches[0],D=H.clientX-ge,x=H.clientY-Ce;Math.sqrt(D*D+x*x)>Ts&&(clearTimeout(ye),ye=null,ge=null,Ce=null)}function Le(){ye!==null&&(clearTimeout(ye),ye=null),ge=null,Ce=null}St(()=>{ye!==null&&clearTimeout(ye),N!==null&&clearTimeout(N)});const je=()=>t(12,R=!R);function Ke(c){jt[c?"unshift":"push"](()=>{P=c,t(0,P)})}const Pe=c=>c.key==="Escape"&&pe();function Be(){B=this.checked,t(5,B)}function et(){O=this.checked,t(6,O)}function Re(){X=this.checked,t(7,X)}function tt(){F=this.checked,t(8,F)}function He(){L=this.checked,t(9,L)}function st(){S=this.checked,t(10,S)}function Ze(){I=this.checked,t(11,I)}function Ve(){Q=qt(this),t(13,Q)}return a.$$.update=()=>{a.$$.dirty[0]&5&&P&&g&&Oe(),a.$$.dirty[0]&28&&A&&g&&!v&&yt().catch(c=>console.error("Analysis failed:",c)),a.$$.dirty[0]&2|a.$$.dirty[1]&32&&t(20,n=(()=>{if(!u)return null;const{times:c,pitch:H,intensity:D,formants:x,harmonicity:ae,cog:he,spectralTilt:le,a1p0:G}=u,Te=h;let re=0,Ee=1/0;for(let Ne=0;Ne<c.length;Ne++){const ie=Math.abs(c[Ne]-Te);ie<Ee&&(Ee=ie,re=Ne)}return{pitch:H[re],intensity:D[re],f1:x.f1[re],f2:x.f2[re],f3:x.f3[re],f4:x.f4[re],hnr:ae[re],cog:he?he[re]:null,spectralTilt:le?le[re]:null,a1p0:G?G[re]:null}})())},[P,h,g,v,A,B,O,X,F,L,S,I,R,Q,j,se,W,J,Y,f,n,p,T,m,y,fe,ee,Me,te,be,pe,ve,Ie,Xe,Se,Le,u,je,Ke,Pe,Be,et,Re,tt,He,st,Ze,Ve]}class Ds extends Wt{constructor(e){super(),Yt(this,e,ks,Es,Ot,{},null,[-1,-1,-1])}}export{Ds as component};
